<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【保護者必見】小6の今が分かれ道 - 中学準備の決定的な差</title>
    <meta name="description" content="95%の生徒が成績向上！お子様の中学スタートを成功に導く、今すぐ始めるべき準備とは">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8f9fa;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        .video-container {
            width: 1080px;
            height: 1080px;
            background: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
        }

        /* スライド共通スタイル */
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .slide.active {
            display: flex;
            opacity: 1;
        }

        /* 信頼バッジ */
        .trust-badge {
            position: absolute;
            top: 40px;
            right: 40px;
            background: white;
            border-radius: 12px;
            padding: 15px 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 10;
        }

        .trust-badge img {
            width: 30px;
            height: 30px;
        }

        .trust-badge-text {
            font-size: 14px;
            font-weight: 600;
            color: #2c3e50;
        }

        /* 季節の装飾 */
        .seasonal-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .snowflake {
            position: absolute;
            color: rgba(255,255,255,0.8);
            font-size: 20px;
            animation: fall linear infinite;
        }

        @keyframes fall {
            from {
                transform: translateY(-100px);
            }
            to {
                transform: translateY(1080px);
            }
        }

        /* スライド1: 恐怖ベースのフック */
        .slide-1 {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .urgency-badge {
            background: #feca57;
            color: #2c3e50;
            padding: 10px 25px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 20px;
            margin-bottom: 30px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .main-hook {
            font-size: 58px;
            font-weight: 800;
            text-align: center;
            line-height: 1.3;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .fear-point {
            font-size: 36px;
            opacity: 0.95;
            text-align: center;
            margin-bottom: 40px;
            line-height: 1.5;
        }

        .parent-voice {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .parent-voice-header {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .parent-voice-content {
            font-size: 24px;
            font-style: italic;
            line-height: 1.4;
        }

        /* スライド2: 衝撃的なデータ */
        .slide-2 {
            background: #ffffff;
        }

        .data-header {
            font-size: 48px;
            font-weight: 700;
            color: #e74c3c;
            text-align: center;
            margin-bottom: 50px;
        }

        .shocking-stat {
            background: #fff5f5;
            border-left: 8px solid #e74c3c;
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .stat-number {
            font-size: 72px;
            font-weight: 800;
            color: #e74c3c;
            margin-bottom: 10px;
        }

        .stat-description {
            font-size: 28px;
            color: #2c3e50;
            line-height: 1.4;
        }

        .source-note {
            font-size: 14px;
            color: #7f8c8d;
            margin-top: 10px;
        }

        /* スライド3: 成功事例 */
        .slide-3 {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
        }

        .success-header {
            font-size: 48px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .testimonial-container {
            display: grid;
            gap: 30px;
            max-width: 900px;
        }

        .testimonial-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .parent-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .parent-info {
            flex: 1;
        }

        .parent-name {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 3px;
        }

        .parent-role {
            font-size: 16px;
            opacity: 0.9;
        }

        .testimonial-content {
            font-size: 22px;
            line-height: 1.5;
            font-style: italic;
        }

        .improvement-badge {
            background: #2ecc71;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 700;
            display: inline-block;
            margin-top: 15px;
        }

        /* スライド4: 具体的な解決策 */
        .slide-4 {
            background: #ffffff;
        }

        .solution-header {
            font-size: 48px;
            font-weight: 700;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 40px;
        }

        .solution-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            max-width: 950px;
        }

        .solution-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .solution-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        .solution-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .solution-title {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .solution-desc {
            font-size: 18px;
            color: #5d6d7e;
            line-height: 1.4;
        }

        .unique-point {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            text-align: center;
        }

        .unique-point-text {
            font-size: 24px;
            color: #1565c0;
            font-weight: 700;
        }

        /* スライド5: 信頼性の証明 */
        .slide-5 {
            background: #f8f9fa;
        }

        .trust-header {
            font-size: 48px;
            font-weight: 700;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 40px;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            max-width: 800px;
            margin-bottom: 40px;
        }

        .achievement-item {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .achievement-number {
            font-size: 48px;
            font-weight: 800;
            color: #3498db;
            margin-bottom: 10px;
        }

        .achievement-label {
            font-size: 20px;
            color: #5d6d7e;
        }

        .certification-badges {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 30px;
        }

        .cert-badge {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            text-align: center;
        }

        .cert-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .cert-text {
            font-size: 14px;
            color: #5d6d7e;
        }

        /* スライド6: 地域性と限定性 */
        .slide-6 {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
        }

        .local-header {
            font-size: 48px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .map-visual {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            text-align: center;
        }

        .location-info {
            font-size: 28px;
            margin-bottom: 20px;
        }

        .travel-time {
            font-size: 24px;
            opacity: 0.9;
        }

        .limited-seats {
            background: #e74c3c;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-top: 30px;
        }

        .seats-remaining {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .seats-text {
            font-size: 24px;
        }

        /* スライド7: 価値提案 */
        .slide-7 {
            background: #ffffff;
        }

        .value-header {
            font-size: 48px;
            font-weight: 700;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 40px;
        }

        .comparison-table {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        }

        .comparison-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
            align-items: center;
        }

        .comparison-label {
            font-size: 20px;
            color: #5d6d7e;
        }

        .comparison-us {
            text-align: center;
            font-size: 24px;
            color: #27ae60;
            font-weight: 700;
        }

        .comparison-others {
            text-align: center;
            font-size: 20px;
            color: #e74c3c;
        }

        .price-section {
            background: #e8f8f5;
            border: 2px solid #27ae60;
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            text-align: center;
        }

        .price-original {
            font-size: 24px;
            color: #95a5a6;
            text-decoration: line-through;
            margin-bottom: 10px;
        }

        .price-special {
            font-size: 48px;
            font-weight: 800;
            color: #27ae60;
        }

        .price-note {
            font-size: 18px;
            color: #5d6d7e;
            margin-top: 10px;
        }

        /* スライド8: 行動喚起 */
        .slide-8 {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
        }

        .cta-header {
            font-size: 56px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .cta-options {
            display: grid;
            gap: 30px;
            max-width: 700px;
        }

        .cta-button {
            background: white;
            color: #2c3e50;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
        }

        .cta-main {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .cta-sub {
            font-size: 20px;
            opacity: 0.8;
        }

        .guarantee-badge {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            text-align: center;
        }

        .guarantee-text {
            font-size: 20px;
            font-weight: 600;
        }

        /* プログレスバー */
        .progress-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 12px;
            background: rgba(0,0,0,0.1);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #3498db, #2ecc71);
            width: 0;
            transition: width 0.3s ease;
        }

        /* スライド番号 */
        .slide-number {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
        }

        /* インタラクティブ要素 */
        .interactive-quiz {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .quiz-question {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
        }

        .quiz-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .quiz-option:hover {
            border-color: #3498db;
            background: #e3f2fd;
        }

        /* レスポンシブ */
        @media (max-width: 1080px) {
            .video-container {
                width: 100vw;
                height: 100vw;
            }
        }

        /* 保存推奨 */
        .save-recommendation {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border: 2px solid #3498db;
            border-radius: 50px;
            padding: 20px 40px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 22px;
            font-weight: 700;
            color: #2c3e50;
            animation: gentle-bounce 3s ease-in-out infinite;
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.3);
        }

        @keyframes gentle-bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }

        .save-icon {
            font-size: 28px;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <!-- 信頼バッジ -->
        <div class="trust-badge">
            <span style="font-size: 24px;">🏆</span>
            <div>
                <div class="trust-badge-text">日本塾協会認定</div>
                <div style="font-size: 12px; color: #7f8c8d;">安心・信頼の証</div>
            </div>
        </div>

        <!-- 季節の装飾（冬） -->
        <div class="seasonal-decoration" id="seasonalDecor"></div>

        <!-- スライド1: 恐怖ベースのフック -->
        <div class="slide slide-1 active">
            <div class="urgency-badge">⚠️ 重要なお知らせ</div>
            <h1 class="main-hook">
                お子様の中学生活<br>
                最初の1ヶ月で決まります
            </h1>
            <p class="fear-point">
                小6の今、準備しないと<br>
                取り返しがつかない差がつく現実
            </p>
            <div class="parent-voice">
                <p class="parent-voice-header">実際の保護者の声：</p>
                <p class="parent-voice-content">
                    「もっと早く準備しておけば...」<br>
                    中1の夏、すでに大きな差を実感
                </p>
            </div>
            <div class="slide-number">1 / 8</div>
        </div>

        <!-- スライド2: 衝撃的なデータ -->
        <div class="slide slide-2">
            <h2 class="data-header">知っていましたか？</h2>
            <div class="shocking-stat">
                <div class="stat-number">73%</div>
                <div class="stat-description">
                    中学入学後3ヶ月以内に<br>
                    「勉強についていけない」と感じる生徒の割合
                </div>
                <div class="source-note">※当塾調査 2023年度実績</div>
            </div>
            <div class="shocking-stat">
                <div class="stat-number">15点</div>
                <div class="stat-description">
                    小6で準備した生徒としなかった生徒の<br>
                    中1最初の定期テストの平均点差
                </div>
            </div>
            <div class="slide-number">2 / 8</div>
        </div>

        <!-- スライド3: 成功事例 -->
        <div class="slide slide-3">
            <h2 class="success-header">準備した生徒の実績</h2>
            <div class="testimonial-container">
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="parent-avatar">👩</div>
                        <div class="parent-info">
                            <div class="parent-name">Y.K.様</div>
                            <div class="parent-role">中1生の保護者</div>
                        </div>
                    </div>
                    <div class="testimonial-content">
                        「小6の2月から通い始めて本当に良かった。<br>
                        中学の授業にスムーズに入れました」
                    </div>
                    <div class="improvement-badge">英語 95点獲得</div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="parent-avatar">👨</div>
                        <div class="parent-info">
                            <div class="parent-name">T.M.様</div>
                            <div class="parent-role">中2生の保護者</div>
                        </div>
                    </div>
                    <div class="testimonial-content">
                        「苦手だった数学が得意科目に。<br>
                        早めの対策が功を奏しました」
                    </div>
                    <div class="improvement-badge">内申点 +8アップ</div>
                </div>
            </div>
            <div class="slide-number">3 / 8</div>
        </div>

        <!-- スライド4: 具体的な解決策 -->
        <div class="slide slide-4">
            <h2 class="solution-header">当塾の3つの強み</h2>
            <div class="solution-grid">
                <div class="solution-card">
                    <div class="solution-icon">📊</div>
                    <div class="solution-title">個別診断</div>
                    <div class="solution-desc">
                        AI分析で<br>
                        お子様の弱点を<br>
                        正確に把握
                    </div>
                </div>
                <div class="solution-card">
                    <div class="solution-icon">👥</div>
                    <div class="solution-title">少人数制</div>
                    <div class="solution-desc">
                        最大6名まで<br>
                        一人ひとりに<br>
                        きめ細かく対応
                    </div>
                </div>
                <div class="solution-card">
                    <div class="solution-icon">🎯</div>
                    <div class="solution-title">先取り学習</div>
                    <div class="solution-desc">
                        中学内容を<br>
                        無理なく<br>
                        先取り
                    </div>
                </div>
            </div>
            <div class="unique-point">
                <p class="unique-point-text">
                    💡 95%の生徒が「勉強が楽しくなった」と回答
                </p>
            </div>
            <div class="slide-number">4 / 8</div>
        </div>

        <!-- スライド5: 信頼性の証明 -->
        <div class="slide slide-5">
            <h2 class="trust-header">選ばれる理由</h2>
            <div class="achievements-grid">
                <div class="achievement-item">
                    <div class="achievement-number">15年</div>
                    <div class="achievement-label">地域密着の実績</div>
                </div>
                <div class="achievement-item">
                    <div class="achievement-number">3,000名</div>
                    <div class="achievement-label">累計指導生徒数</div>
                </div>
                <div class="achievement-item">
                    <div class="achievement-number">98%</div>
                    <div class="achievement-label">保護者満足度</div>
                </div>
                <div class="achievement-item">
                    <div class="achievement-number">全員</div>
                    <div class="achievement-label">正社員講師</div>
                </div>
            </div>
            <div class="certification-badges">
                <div class="cert-badge">
                    <div class="cert-icon">🛡️</div>
                    <div class="cert-text">安全対策<br>優良認定</div>
                </div>
                <div class="cert-badge">
                    <div class="cert-icon">📚</div>
                    <div class="cert-text">教育委員会<br>推奨</div>
                </div>
                <div class="cert-badge">
                    <div class="cert-icon">⭐</div>
                    <div class="cert-text">優良塾<br>認定</div>
                </div>
            </div>
            <div class="slide-number">5 / 8</div>
        </div>

        <!-- スライド6: 地域性と限定性 -->
        <div class="slide slide-6">
            <h2 class="local-header">お近くの教室で</h2>
            <div class="map-visual">
                <div class="location-info">
                    📍 駅から徒歩3分
                </div>
                <div class="travel-time">
                    🚶 小学校から平均10分圏内
                </div>
            </div>
            <div class="limited-seats">
                <div class="seats-remaining">残り8席</div>
                <div class="seats-text">
                    新年度クラス 定員まであとわずか<br>
                    ※毎年2月で満席になります
                </div>
            </div>
            <div class="slide-number">6 / 8</div>
        </div>

        <!-- スライド7: 価値提案 -->
        <div class="slide slide-7">
            <h2 class="value-header">投資対効果No.1</h2>
            <div class="comparison-table">
                <div class="comparison-row">
                    <div class="comparison-label">月謝</div>
                    <div class="comparison-us">¥19,800</div>
                    <div class="comparison-others">¥25,000〜</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-label">講師</div>
                    <div class="comparison-us">全員正社員</div>
                    <div class="comparison-others">アルバイト中心</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-label">振替</div>
                    <div class="comparison-us">無料・無制限</div>
                    <div class="comparison-others">有料・回数制限</div>
                </div>
            </div>
            <div class="price-section">
                <div class="price-original">通常 ¥35,000</div>
                <div class="price-special">今だけ ¥0</div>
                <div class="price-note">※入塾金無料キャンペーン 12月末まで</div>
            </div>
            <div class="slide-number">7 / 8</div>
        </div>

        <!-- スライド8: 行動喚起 -->
        <div class="slide slide-8">
            <h2 class="cta-header">今すぐ行動を</h2>
            <div class="cta-options">
                <div class="cta-button">
                    <div class="cta-main">📞 無料相談を予約</div>
                    <div class="cta-sub">最短30分でお子様の課題が明確に</div>
                </div>
                <div class="cta-button">
                    <div class="cta-main">📝 無料診断テスト</div>
                    <div class="cta-sub">現在の実力を正確に把握</div>
                </div>
                <div class="cta-button">
                    <div class="cta-main">🎁 資料請求</div>
                    <div class="cta-sub">詳しいカリキュラムをお届け</div>
                </div>
            </div>
            <div class="guarantee-badge">
                <p class="guarantee-text">
                    ✅ 1ヶ月全額返金保証
                </p>
            </div>
            <div class="save-recommendation">
                <span class="save-icon">📑</span>
                <span>保存して後でじっくり検討</span>
            </div>
            <div class="slide-number">8 / 8</div>
        </div>

        <!-- プログレスバー -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </div>

    <script>
        // 季節の装飾を追加
        function addSeasonalDecoration() {
            const container = document.getElementById('seasonalDecor');
            const month = new Date().getMonth();
            
            // 冬の装飾（12月〜2月）
            if (month === 11 || month === 0 || month === 1) {
                for (let i = 0; i < 10; i++) {
                    const snowflake = document.createElement('div');
                    snowflake.className = 'snowflake';
                    snowflake.innerHTML = '❄';
                    snowflake.style.left = Math.random() * 100 + '%';
                    snowflake.style.animationDuration = (Math.random() * 3 + 5) + 's';
                    snowflake.style.animationDelay = Math.random() * 5 + 's';
                    container.appendChild(snowflake);
                }
            }
        }

        // スライドショー機能
        const slides = document.querySelectorAll('.slide');
        const progressBar = document.getElementById('progressBar');
        let currentSlide = 0;
        let autoPlayInterval = null;
        let slideStartTime = null;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
            
            currentSlide = index;
            updateProgressBar();
            slideStartTime = Date.now();
            
            // アナリティクス送信（実装時）
            trackSlideView(index);
        }

        function updateProgressBar() {
            const progress = ((currentSlide + 1) / slides.length) * 100;
            progressBar.style.width = progress + '%';
        }

        function nextSlide() {
            // スライド滞在時間を記録
            if (slideStartTime) {
                const duration = Date.now() - slideStartTime;
                trackSlideEngagement(currentSlide, duration);
            }
            
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function previousSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        function startAutoPlay() {
            stopAutoPlay();
            autoPlayInterval = setInterval(nextSlide, 6000); // 6秒
        }

        function stopAutoPlay() {
            if (autoPlayInterval) {
                clearInterval(autoPlayInterval);
                autoPlayInterval = null;
            }
        }

        // インタラクティブ要素のトラッキング
        function trackSlideView(slideIndex) {
            // Google Analytics等に送信
            console.log('Slide viewed:', slideIndex);
        }

        function trackSlideEngagement(slideIndex, duration) {
            // エンゲージメント時間を記録
            console.log('Slide engagement:', slideIndex, duration);
        }

        // CTAクリックのトラッキング
        document.querySelectorAll('.cta-button').forEach((button, index) => {
            button.addEventListener('click', () => {
                console.log('CTA clicked:', index);
                // 実際のアクションを実行
            });
        });

        // 保存ボタンのトラッキング
        document.querySelector('.save-recommendation').addEventListener('click', () => {
            console.log('Save button clicked');
        });

        // キーボード操作
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                stopAutoPlay();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                stopAutoPlay();
                previousSlide();
            } else if (e.key === ' ') {
                e.preventDefault();
                if (autoPlayInterval) {
                    stopAutoPlay();
                } else {
                    startAutoPlay();
                }
            }
        });

        // タッチ操作（モバイル対応）
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
        });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].clientX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                stopAutoPlay();
                if (diff > 0) {
                    nextSlide();
                } else {
                    previousSlide();
                }
            }
        }

        // 初期化
        addSeasonalDecoration();
        showSlide(0);
        
        // URLパラメータで自動再生
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('autoplay') === 'true') {
            startAutoPlay();
        }

        // パフォーマンス最適化
        const preloadImages = [
            'images/1.png', 'images/2.png', 'images/3.png',
            'images/4.png', 'images/5.png', 'images/6.png'
        ];

        preloadImages.forEach(src => {
            const img = new Image();
            img.src = src;
        });

        // ページ離脱時のトラッキング
        window.addEventListener('beforeunload', () => {
            const totalTime = Date.now() - performance.timing.navigationStart;
            console.log('Total engagement time:', totalTime);
        });
    </script>
</body>
</html>